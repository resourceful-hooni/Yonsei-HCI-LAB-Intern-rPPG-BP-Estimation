* { box-sizing: border-box; }

:root {
	--primary: #5C7CFA;
	--secondary: #9775FA;
	--ink: #1f2937;
	--muted: #6b7280;
	--surface: #ffffff;
	--border: #e9edf5;
}

body {
	margin: 0;
	font-family: 'Pretendard', 'Segoe UI', sans-serif;
	background: radial-gradient(circle at 20% 0%, #eef2ff 0%, #f8faff 35%, #f7f8fc 100%);
	color: var(--ink);
}

.app-shell {
	min-height: 100vh;
	display: flex;
	flex-direction: column;
}

.topbar {
	position: sticky;
	top: 0;
	z-index: 20;
	backdrop-filter: blur(10px);
	background: rgba(255, 255, 255, 0.85);
	border-bottom: 1px solid var(--border);
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 12px 24px;
}

.brand {
	display: flex;
	align-items: center;
	gap: 10px;
}

.brand p {
	margin: 2px 0 0;
	font-size: 12px;
	color: var(--muted);
}

.dot {
	width: 12px;
	height: 12px;
	border-radius: 999px;
	background: linear-gradient(135deg, var(--primary), var(--secondary));
	box-shadow: 0 0 0 6px rgba(92, 124, 250, 0.15);
}

.tabs {
	display: flex;
	gap: 8px;
}

.tabs a {
	text-decoration: none;
	color: #374151;
	font-weight: 600;
	padding: 8px 14px;
	border-radius: 999px;
}

.tabs a.active {
	background: linear-gradient(135deg, rgba(92, 124, 250, 0.13), rgba(151, 117, 250, 0.13));
	color: #2f4ed8;
}

.page {
	max-width: 1080px;
	margin: 0 auto;
	padding: 26px 24px 36px;
}

h1 {
	margin: 0;
	letter-spacing: -0.02em;
}

.subtitle {
	margin-top: 8px;
	margin-bottom: 20px;
	color: var(--muted);
}

.section-title {
	margin: 6px 0;
	font-size: 18px;
}

.grid { display: grid; gap: 16px; }
.grid.two { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }

.card {
	background: var(--surface);
	border: 1px solid var(--border);
	border-radius: 18px;
	padding: 18px;
	box-shadow: 0 8px 28px rgba(17, 24, 39, 0.06);
}

.camera-wrap { position: relative; }
.camera { width: 100%; border-radius: 14px; background: #000; max-height: 420px; object-fit: cover; display: block; transform: scaleX(-1); }
.overlay { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }

button {
	border: none;
	border-radius: 12px;
	background: linear-gradient(135deg, var(--primary), var(--secondary));
	color: #fff;
	padding: 10px 14px;
	cursor: pointer;
	font-weight: 600;
}

button:disabled {
	opacity: 0.6;
	cursor: not-allowed;
}

button.ghost {
	background: #eef2ff;
	color: #3c4d99;
}

.link-btn {
	width: fit-content;
}

.actions { display: flex; gap: 8px; flex-wrap: wrap; }
.progress-wrap { height: 8px; border-radius: 999px; background: #e9ecef; overflow: hidden; margin: 8px 0 12px; }
.progress { height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); }
.result-number { font-size: 34px; font-weight: 700; letter-spacing: 0.3px; }
.row { display: flex; align-items: center; }
.row.between { justify-content: space-between; }
.row.gap { gap: 12px; }

.status-badge { padding: 4px 10px; border-radius: 999px; background: #eef2ff; color: #364fc7; font-size: 12px; width: fit-content; }
.chart { min-height: 300px; }
.trend.up { color: #087f5b; font-weight: 700; }
.trend.down { color: #c92a2a; font-weight: 700; }

.delta-badge {
	padding: 4px 10px;
	border-radius: 999px;
	font-size: 12px;
	font-weight: 700;
}

.delta-up { background: #f3e8ff; color: #6b21a8; }
.delta-down { background: #dcfce7; color: #166534; }
.delta-flat { background: #f3f4f6; color: #374151; }

.check-item {
	padding: 10px 12px;
	border: 1px solid var(--border);
	border-radius: 12px;
	margin-bottom: 8px;
}

.quality { font-size: 12px; font-weight: 700; }
.quality.good { color: #15803d; }
.quality.mid { color: #a16207; }
.quality.bad { color: #b91c1c; }

.legend-row {
	display: flex;
	gap: 10px;
	flex-wrap: wrap;
	align-items: center;
}

.legend-item {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	font-size: 12px;
	color: #4b5563;
}

.legend-swatch {
	width: 10px;
	height: 10px;
	border-radius: 2px;
	display: inline-block;
	border: 1px solid rgba(0,0,0,0.1);
}

.legend-swatch.confidence { background: #5C7CFA; }
.legend-swatch.confidence-bg { background: #e7edff; }
.legend-swatch.bp { background: #5C7CFA; }
.legend-swatch.glucose { background: #9775FA; }

.legend-pill {
	font-size: 11px;
	padding: 3px 8px;
	border-radius: 999px;
	font-weight: 700;
}

.legend-pill.stable { background: #dcfce7; color: #166534; }
.legend-pill.watch { background: #fef9c3; color: #854d0e; }
.legend-pill.care { background: #fee2e2; color: #991b1b; }

.confidence-card {
	background: linear-gradient(180deg, #f3f6ff 0%, #ffffff 45%);
}

.vital-card.stable {
	background: linear-gradient(180deg, #f0fdf4 0%, #ffffff 55%);
}

.vital-card.watch {
	background: linear-gradient(180deg, #fffbeb 0%, #ffffff 55%);
}

.vital-card.care {
	background: linear-gradient(180deg, #fef2f2 0%, #ffffff 55%);
}

.info-wrap {
	position: relative;
	width: fit-content;
	margin-top: 8px;
}

.info-trigger {
	padding: 8px 12px;
}

.info-popover {
	position: absolute;
	left: 0;
	top: calc(100% + 8px);
	z-index: 20;
	width: min(320px, 78vw);
	padding: 10px 12px;
	border-radius: 10px;
	border: 1px solid var(--border);
	background: #ffffff;
	color: #374151;
	font-size: 12px;
	line-height: 1.45;
	box-shadow: 0 8px 24px rgba(17, 24, 39, 0.12);
	opacity: 0;
	pointer-events: none;
	transform: translateY(-4px);
	transition: opacity 0.15s ease, transform 0.15s ease;
}

.info-wrap:hover .info-popover,
.info-wrap:focus-within .info-popover,
.info-wrap.open .info-popover {
	opacity: 1;
	pointer-events: auto;
	transform: translateY(0);
}

.comparison-card .percentile {
	margin-bottom: 0;
	color: #495057;
}

.bar-wrap { position: relative; display: grid; grid-template-columns: 20% 60% 20%; border-radius: 12px; overflow: hidden; margin-top: 10px; }
.bar { padding: 10px; text-align: center; font-size: 12px; color: #fff; }
.low { background: #74c0fc; }
.normal { background: #51cf66; }
.high { background: #ff8787; }
.marker { position: absolute; top: -2px; bottom: -2px; width: 2px; border-left: 2px solid; }

.habit-card p {
	color: #4b5563;
}

.check-toggle {
	display: flex;
	align-items: center;
	gap: 8px;
	margin: 8px 0;
}

.routine-item {
	margin-bottom: 10px;
}

.modal-backdrop { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.4); }
.modal { width: min(560px, 90vw); background: #fff; border-radius: 14px; padding: 18px; }
.disclaimer { margin-top: 16px; color: #495057; font-size: 14px; }

.app-footer {
	margin-top: auto;
	padding: 10px 18px 14px;
	text-align: center;
	color: #94a3b8;
	font-size: 11px;
	border-top: 1px solid #eef2f7;
}
